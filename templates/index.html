<!DOCTYPE html>
{% load static %}

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.css">
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">

    <script src="https://unpkg.com/swiper/swiper-bundle.js"></script>
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <!-- Demo styles -->
    <style>
        #swiperimg {
            height: 90%;
            width: 90%;
        }

        .swiper-container {
            width: 100%;
            height: auto;
        }

        .swiper-slide {
            text-align: center;
            font-size: 18px;
            background: #fff;

            /* Center slide text vertically */
            display: -webkit-box;
            display: -ms-flexbox;
            display: -webkit-flex;
            display: flex;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            -webkit-justify-content: center;
            justify-content: center;
            -webkit-box-align: center;
            -ms-flex-align: center;
            -webkit-align-items: center;
            align-items: center;
        }
    </style>
    <style>
        #float-right {
            float: right;
            margin-right: 20%;
            z-index: 9999;
            margin-top: -20%;
        }

        #display {
            display: none;
        }

        #floatleft {
            float: left;
            z-index: 9999;
            margin-top: -22%;
            margin-left: 10%;
            display: inline;
        }

        #imgheight {
            height: 500px;

        }

        #btnloc {
            margin-top: -64px;
            margin-left: 140px;

        }

        .swiper-button-prev {
            z-index: 99999;
            color: black;
            width: 50px;
            height: 50px;
            margin-left: -20px;
            background: white;
            -moz-border-radius: 70px;
            -webkit-border-radius: 70px;
            border-radius: 70px;

        }

        .swiper-button-next {
            color: black;
            width: 50px;
            height: 50px;
            margin-right: -20px;
            background: white;
            -moz-border-radius: 70px;
            -webkit-border-radius: 70px;
            border-radius: 70px;

        }


        @media only screen and (max-width: 500px) {
            #floatleft {
                margin-top: auto;
                margin-left: 10px;

            }

            #float-right {
                width: 70%;
                z-index: 9999;
                margin-top: -185px;
            }

            #imgheight {
                height: 200px;
            }

            #btnloc {
                margin-top: -66px;
                margin-left: 125px;

            }

            #swiperimg {
                height: 170px;
                width: 100%;
            }

            .swiper-container {
                width: 100%;
                height: auto;
            }

            .swiper-button-next {
                display: none;
            }

            .swiper-button-prev {
                display: none;
            }
        }

        @media only screen and (min-width: 500px) and (max-width: 700px) {
            .swiper-button-next {
                display: none;
            }

            .swiper-button-prev {
                display: none;
            }
        }

        @media only screen and (min-width: 500px) and (max-width: 1200px) {
            #floatleft {
                float: left;
                z-index: 9999;
                margin: auto;

            }

            #float-right {
                width: 70%;
                display: inline-block;
                z-index: 9999;
                margin-top: -275px;
            }

            #imgheight {
                height: 450px;
            }

            #btnloc {
                margin-top: -65px;
                margin-left: 135px;

            }

            #swiperimg {
                height: 150px;
                width: 80%;
            }
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <a class="navbar-brand" href="#">Navbar</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Link</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Dropdown
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="#">Action</a>
                        <a class="dropdown-item" href="#">Another action</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">Something else here</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a class="nav-link disabled" href="#">Disabled</a>
                </li>
            </ul>
            <form class="form-inline my-2 my-lg-0">
                <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
            </form>
        </div>
    </nav>

    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img id="imgheight" src='{% static "main1.jpg" %}' class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
                <img id="imgheight" src='{% static "main2.jpg" %}' class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
                <img id="imgheight" src='{% static "main3.jpg" %}' class="d-block w-100" alt="...">
            </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
    <div class="col-lg-3 col-md-2" id="float-right">
        <form name="myForm" method="post" id="weatherform">{% csrf_token %}
            <div class="form-group">
                <div class="form-group">
                    <label for="exampleFormControlSelect1"
                        style="font-family: 'Anton', sans-serif; font-size: large; color:white;">Select City</label>
                    <select class="form-control" id="cityname" onchange="myFunction()" name="city">
                        <option>Gwalior</option>
                        <option>Indore</option>
                        <option>Bhopal</option>
                        <option>Jabalpur</option>
                        <option>Mumbai</option>
                    </select>
                </div>
            </div>
            <button type="submit" class="btn btn-primary">weather info!</button>
        </form>
        <form action="knowmore" method="get" id="knowform">{% csrf_token %}
            <input type="hidden" id="city_name" value="Gwalior" name="city_name">
            <button type="submit" id="btnloc" class="btn btn-primary">Know more</button>
        </form>

    </div>

    <div class="col-lg-3 col-md-4 " id="floatleft">
        <!-- Card -->
        <div class="card border
         mb-4" id="display" style="max-width: 18rem;">
            <div class="card-header">
                <h2 id="weatherinfo"></h2>
            </div>
            <div class="card-body text" style="font-family:'Varela Round',sans-serif;">
                <h5 class="card-title" id="city"></h5>
                <p class="card-text" id="date"></p>
                <p id="temp"></p>
                <p id="desc"></p>
            </div>
        </div>
        <!-- Card -->
    </div>

    <div class="container mt-5 ">
        <h2>
            Places You Must Visit In India Once in a lifetime.
        </h2>
        <h6>Escape the city with special days out close to home</h6>
        <div class="swiper-container">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src='{% static "main1.jpg" %}' alt="Card image cap">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <h6 class="card-text">Some quick example text to build on the card title and make up </h6>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src='{% static "main1.jpg" %}' alt="Card image cap">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <h6 class="card-text">Some quick example text to build on the card title and make up </h6>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src='{% static "main1.jpg" %}' alt="Card image cap">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <h6 class="card-text">Some quick example text to build on the card title and make up </h6>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src='{% static "main1.jpg" %}' alt="Card image cap">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <h6 class="card-text">Some quick example text to build on the card title and make up </h6>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src='{% static "main1.jpg" %}' alt="Card image cap">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <h6 class="card-text">Some quick example text to build on the card title and make up </h6>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src='{% static "main1.jpg" %}' alt="Card image cap">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <h6 class="card-text">Some quick example text to build on the card title and make up </h6>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src='{% static "main1.jpg" %}' alt="Card image cap">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <h6 class="card-text">Some quick example text to build on the card title and make up </h6>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src='{% static "main1.jpg" %}' alt="Card image cap">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <h6 class="card-text">Some quick example text to build on the card title and make up </h6>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src='{% static "main1.jpg" %}' alt="Card image cap">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <h6 class="card-text">Some quick example text to build on the card title and make up </h6>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src='{% static "main1.jpg" %}' alt="Card image cap">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <h6 class="card-text">Some quick example text to build on the card title and make up </h6>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src='{% static "main1.jpg" %}' alt="Card image cap">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <h6 class="card-text">Some quick example text to build on the card title and make up </h6>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src='{% static "main1.jpg" %}' alt="Card image cap">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <h6 class="card-text">Some quick example text to build on the card title and make up </h6>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Add Pagination -->
            <div class="swiper-pagination"></div>
            <!-- Add Arrows -->
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
        </div>
    </div>
    <div class="container mt-5 ">
        <h2>
            Cities You Must Visit Once in a lifetime
        </h2>
        <h6>Escape the city with special days out close to home</h6>
        <div class="swiper-container">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src='{% static "main1.jpg" %}' alt="Card image cap">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <h6 class="card-text">Some quick example text to build on the card title and make up </h6>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src='{% static "main1.jpg" %}' alt="Card image cap">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <h6 class="card-text">Some quick example text to build on the card title and make up </h6>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src='{% static "main1.jpg" %}' alt="Card image cap">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <h6 class="card-text">Some quick example text to build on the card title and make up </h6>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src='{% static "main1.jpg" %}' alt="Card image cap">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <h6 class="card-text">Some quick example text to build on the card title and make up </h6>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src='{% static "main1.jpg" %}' alt="Card image cap">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <h6 class="card-text">Some quick example text to build on the card title and make up </h6>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src='{% static "main1.jpg" %}' alt="Card image cap">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <h6 class="card-text">Some quick example text to build on the card title and make up </h6>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src='{% static "main1.jpg" %}' alt="Card image cap">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <h6 class="card-text">Some quick example text to build on the card title and make up </h6>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src='{% static "main1.jpg" %}' alt="Card image cap">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <h6 class="card-text">Some quick example text to build on the card title and make up </h6>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src='{% static "main1.jpg" %}' alt="Card image cap">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <h6 class="card-text">Some quick example text to build on the card title and make up </h6>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src='{% static "main1.jpg" %}' alt="Card image cap">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <h6 class="card-text">Some quick example text to build on the card title and make up </h6>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src='{% static "main1.jpg" %}' alt="Card image cap">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <h6 class="card-text">Some quick example text to build on the card title and make up </h6>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src='{% static "main1.jpg" %}' alt="Card image cap">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <h6 class="card-text">Some quick example text to build on the card title and make up </h6>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Add Pagination -->
            <div class="swiper-pagination"></div>
            <!-- Add Arrows -->
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
        </div>
    </div>
    <!-- Swiper -->


    <!-- Swiper JS -->
    <script src="../package/swiper-bundle.min.js"></script>

    <!-- Initialize Swiper -->
    <script>
        if (document.documentElement.clientWidth < 700) {
            var swiper = new Swiper('.swiper-container', {
                slidesPerView: 2,
                spaceBetween: 10,
                slidesPerGroup: 2,
                loop: true,
                loopFillGroupWithBlank: true,

            });

        }
        else {
            var swiper = new Swiper('.swiper-container', {
                slidesPerView: 4,
                spaceBetween: 10,
                slidesPerGroup: 4,
                loop: true,
                loopFillGroupWithBlank: true,
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                },
            });

        }

    </script>
</body>
<script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
    crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
    integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
    crossorigin="anonymous"></script>
<script>
    $('#weatherform').submit(function (event) {
        var formData = {
            'city': $('#cityname').val(),
            'csrfmiddlewaretoken': $('input[name=csrfmiddlewaretoken]').val()
        };
        $.ajax({
            type: 'POST',
            url: '/',
            data: formData,
            encode: true
        })

            .done(function (data) {
                console.log(formData)
                data = JSON.parse(data);
                updates = data;
                console.log(updates)
                document.getElementById('weatherinfo').innerHTML = "Weather Info!";
                document.getElementById('city').innerHTML = "";
                document.getElementById('date').innerHTML = "";
                document.getElementById('temp').innerHTML = "";
                document.getElementById('desc').innerHTML = "";
                var x = document.getElementById('display');
                x.style.display = "block";
                if (updates.length > 0 & updates != {}) {
                    let text0 = updates[0]['city'];
                    let text1 = updates[1]['today'];
                    let text2 = updates[2]['temperature'];
                    let text3 = updates[3]['description'];
                    city = `<li class="list-group-item d-flex justify-content-between align-items-center">
                                ${text0}
                            </li>`
                    $('#city').append(city);
                    date = `<li class="list-group-item d-flex justify-content-between align-items-center">
                                ${text1}
                            </li>`
                    $('#date').append(date);
                    temp = `<li class="list-group-item d-flex justify-content-between align-items-center">
                                ${text2} °C
                            </li>`
                    $('#temp').append(temp);
                    desc = `<li class="list-group-item d-flex justify-content-between align-items-center">
                                ${text3}
                            </li>`
                    $('#desc').append(desc);

                } else {
                    mystr = `<li class="list-group-item d-flex justify-content-between align-items-center">Weather deatails not available</li>`
                    $('#item').append(mystr);
                }


            });
        event.preventDefault();

    });
</script>
<script>
    function myFunction() {
        var x = document.getElementById("cityname").value;
        document.getElementById("city_name").value = x;
    }

</script>

</html>